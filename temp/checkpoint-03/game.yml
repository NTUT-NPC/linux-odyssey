id: checkpoint-03
title: æ‹¯æ•‘æª”æ¡ˆ
image: base

instruction: |
  é€™æ˜¯ç¬¬ä¸‰å€‹æ¸¬é©—é—œå¡ï¼

  ç¨‹å¼è¨­è¨ˆç ”ç©¶ç¤¾çš„å¹¹éƒ¨åœ¨æ•´ç†æª”æ¡ˆæ™‚ï¼Œä¸å°å¿ƒæŠŠä¸€ä»½
  **é‡è¦çš„è¡Œç¨‹è¡¨ (timetable.txt)** ä¸Ÿé€²åƒåœ¾æ¡¶è£¡äº†ï¼  

  è«‹ä½ å¹«å¿™æŠŠå®ƒæ•‘å›ä¾†ï¼
  

requirements:
  - copy
  - remove

stages:
  - id: start
    name: æŒ‰ä¸‹ `é–‹å§‹` æŒ‰éˆ•é–‹å§‹ä»»å‹™
    condition:
      command: echo start
    response:
      content: |
        ç¨‹å¼è¨­è¨ˆç ”ç©¶ç¤¾çš„è³‡æ–™å¤¾è£¡æœ‰ä¸€äº›æª”æ¡ˆå’Œä¸€å€‹åƒåœ¾æ¡¶ã€‚

        è«‹å…ˆç”¨ `ls` æŸ¥çœ‹ç›®å‰æœ‰å“ªäº›è³‡æ–™å¤¾ã€‚

  - id: ls-home
    name: æŸ¥çœ‹ç›®å‰è³‡æ–™å¤¾å…§å®¹
    requirements:
      - start
    condition:
      command: ls
    response:
      content: |
        ä½ çœ‹åˆ°é€™äº›æ±è¥¿ï¼š

        ```
        docs
        events
        lessons
        trash
        ```
        ä½ çš„ä»»å‹™æ˜¯ï¼š
        1. å»ºç«‹ä¸€å€‹ `backup/` è³‡æ–™å¤¾  
        2. æŠŠåƒåœ¾æ¡¶ä¸­çš„ `timetable.txt` è¤‡è£½åˆ° `backup/`  
        3. ç¢ºèªå‚™ä»½å®Œæˆå¾Œï¼ŒæŠŠæ•´å€‹ `trash/` è³‡æ–™å¤¾åˆªæ‰  
        è«‹é–‹å§‹å§ï¼


  - id: backup-rescue
    name: å»ºç«‹ backup ä¸¦æ•‘å‡º timetable.txt
    requirements:
      - ls-home
    condition:
      files:
        - path: /home/commander/backup/timetable.txt
          type: file
          exists: true
        - path: /home/commander/trash
          type: directory
          exists: false
    response:
      content: |
        ğŸ‰ å®Œæˆå•¦ï¼ä½ å·²ç¶“ï¼š
        - å»ºç«‹äº† `backup/` è³‡æ–™å¤¾
        - æˆåŠŸæ•‘å‡ºäº† `timetable.txt` ä¸¦å‚™ä»½
        - ç”¨ `rm -r` æŠŠæ•´å€‹åƒåœ¾æ¡¶æ¸…ç©ºäº†ï¼

        ç¨‹å¼è¨­è¨ˆç ”ç©¶ç¤¾å¹¹éƒ¨é¬†äº†ä¸€å£æ°£ï¼šã€Œå¤ªå¥½äº†ï¼æ´»å‹•ä¸æœƒå¤§äº‚äº†ï¼ã€  
        è¼¸å…¥`echo finish` å®Œæˆä»»å‹™å§ï¼

  - id: finish
    name: è¼¸å‡º `finish` å®Œæˆä»»å‹™
    requirements:
      - backup-rescue
    condition:
      command: echo finish
    response:
      content: |
        ğŸ† æ­å–œä½ å®Œæˆäº†ç¬¬ä¸‰é—œ â€”â€” å­¸æœƒäº†å‚™ä»½é‡è¦æª”æ¡ˆä¸¦å¾¹åº•æ¸…ç†åƒåœ¾ï¼
